const Feature = require('app.feature');
const SuperApp = require('app.application');
const core = require('app.core');
const pkg = require('./package');

class Application extends SuperApp {
  static get Application() {
    return Application;
  }

  static get Feature() {
    return Feature;
  }

  static get SuperApp() {
    return this.__proto__;
  }

  static get config() {
    return {
      env: {
        development: {
          main: {
            uses: [
              'app.repl'
            ]
          },
          repl: {
            enable: true
          },
        }
      },
      main: {
        uses: [
          'app.log'
        ]
      }
    };
  }

  static create(opts) {
    opts = core.pod.parseApplicationOptions(opts);
    opts.appPkg = opts.appPkg || pkg.name;

    return core.pod.createApplication(opts);
  }
};

module.exports = Application;
